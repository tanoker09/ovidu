<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Выход из Contest Streamer (dev)</title>
</head>
<body>
  Для выхода не нужно никаких дополнительных действий,
  просто нажмите кнопку, чтобы вернуться на сайт.
  <form>
    <div>
      <label for="redirectUri">Возврат на URL:</label>
      <input name="redirectUri"></input>
    </div>
    <div>
      <input type="submit" value="Вернуться"></input>
    </div>
  </form>

  <script lang="javascript">
    const urlParams = new URLSearchParams(window.location.search);
    const redirectUri = urlParams.get('redirectUri');

    const redirectUriEl = document.querySelector('input[name=redirectUri]');
    redirectUriEl.value = redirectUri;

    const submitEl = document.querySelector('input[type=submit]');
    submitEl.addEventListener('click', function(e) {
      e.preventDefault();
      window.location = redirectUriEl.value;
    })
  </script>
</body>
</html>
